$(document).ready(function(){document.cookie&&void 0!==(e=decodeURIComponent(document.cookie).split(";").find(e=>0===e.indexOf("theme=")))&&("dark"===(e=e.split("=")[1])?($("body").addClass("dark-theme"),$(".dark-theme-button").addClass("active"),$(".light-theme-button").removeClass("active")):"light"===e&&($("body").removeClass("dark-theme"),$(".dark-theme-button").removeClass("active"),$(".light-theme-button").addClass("active"))),AOS.init({offset:220,duration:600});var e=$(".header__theme-toggler a");let t=$(".main-calc__buttons a"),a=$(".perosnal-areas__buttons a"),N=$(".perosnal-areas__item");var o=$('input[type="tel"]'),z=$('.main-calc__item.osago input[type="radio"]'),n=$('.main-calc__item.real-estate input[type="radio"]'),V=$(".mobile-menu .first-level > li > a");document.querySelectorAll(".otp").forEach(e=>{let i=e.querySelectorAll("*[id]");for(let n=0;n<i.length;n++)i[n].addEventListener("input",function(e){var t;if("deleteContentBackward"==e.inputType)0!=n&&(i[n-1].value.length,i[n-1].focus(),e.preventDefault());else if("insertText"==e.inputType&&n!==i.length-1){if(1<e.data.length){var a=e.data.split("");for(let e=0;e<i.length;e++)i[e].value=a[e]}else if(4<e.data.length){var o=e.data.split("").splice(e.data.length-4,4);for(let e=0;e<i.length;e++)i[e].value=o[e]}else i[n+1].focus();e.preventDefault()}else"insertText"==e.inputType&&n==i.length-1&&1<i[n].value.length&&(t=i[n].value.slice(0,-1),i[n].value=t,e.preventDefault())}),i[n].addEventListener("paste",function(e){var t=e.clipboardData.getData("text").split("");if(1<t.length)for(let e=0;e<i.length;e++)i[e].value=t[e]})});var i=new Inputmask("+7 (999) 999-99-99",{placeholder:"_",clearMaskOnLostFocus:!0});$(window).width()<991&&(new Swiper(".hero__steps.swiper",{slidesPerView:"auto",spaceBetween:20}),new Swiper(".statistic__info.swiper",{slidesPerView:"auto",spaceBetween:20})),$(window).width()<991&&620<$(window).width()&&(new Swiper(".raiting__cards.swiper",{slidesPerView:"auto",spaceBetween:20}),new Swiper(".about-main__goals.swiper",{slidesPerView:"auto",spaceBetween:20})),new Swiper(".partners__slider.swiper",{slidesPerView:"auto",spaceBetween:10,autoplay:{delay:1500,disableOnInteraction:!1}}),new Swiper(".reviews-main__slider.swiper",{slidesPerView:"auto",spaceBetween:10,breakpoints:{991:{slidesPerView:2,spaceBetween:10}},navigation:{nextEl:".reviews-next",prevEl:".reviews-prev"}});function l(e){document.cookie=`theme=${e.toString()}; max-age=31536000; path=/`}$(window).width()<620&&$(".footer__links-title").on("click",function(){$(this).toggleClass("opened"),$(this).siblings("ul").slideToggle()}),$(".selector").select2({minimumResultsForSearch:-1,width:"100%"}),$(".selector").on("select2:open",function(){var e=$(".select2-results__options").get(0);setTimeout(function(){new SimpleBar(e)},0)}),$(".input-date").datepicker({dateFormat:"dd.mm.yy",minDate:new Date($("#hiddendelivdate").val()),monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]}),e.on("click",function(e){e.preventDefault(),$(this).hasClass("dark-theme-button")?($(this).addClass("active"),$(".light-theme-button").removeClass("active"),$("body").addClass("dark-theme"),l("dark")):($(this).addClass("active"),$(".dark-theme-button").removeClass("active"),$("body").removeClass("dark-theme"),l("light"))}),$(".mobile-menu__verison a").on("click",function(e){e.preventDefault(),$("body").toggleClass("dark-theme"),$("body").hasClass("dark-theme")?$(this).text("Переключиться на светлую версию"):$(this).text("Переключиться на темную версию")}),t.on("click",function(e){e.preventDefault(),t.removeClass("active"),$(this).addClass("active");e=$(this).attr("data-calc");$(".main-calc__item").removeClass("active"),$('[data-calc-type="'+e+'"').addClass("active")}),$("#main-calc__buttons-select").on("change",function(){var e=$(this).val();$(".main-calc__item").removeClass("active"),$('[data-calc-type="'+e+'"').addClass("active")}),a.on("click",function(e){e.preventDefault(),a.removeClass("active"),$(this).addClass("active");e=$(this).attr("data-pa-type");N.removeClass("active"),$('[data-pa="'+e+'"]').addClass("active")}),i.mask(o);e=document.querySelectorAll(".reviews-main__item-text");e.forEach(e=>{var t;e.childNodes[1].scrollHeight>=($(window).width()<991?150:110)&&(e.childNodes[1].classList.add("hidden-text"),(t=document.createElement("a")).appendChild(document.createTextNode("Показать все..")),e.appendChild(t).setAttribute("href","#"),document.querySelectorAll(".reviews-main__item-text a").forEach(e=>e.classList.add("reviews__slide-button")))}),document.querySelectorAll(".reviews__slide-button").forEach(e=>e.addEventListener("click",e=>{var t=e.target;e.preventDefault(),t.previousElementSibling.classList.toggle("opened"),t.classList.toggle("opened"),t.classList.contains("opened")?t.textContent="Скрыть":t.textContent="Показать все..."})),n.on("change",function(){$("#flat").is(":checked")?($(".main-calc__item.real-estate").removeClass("house"),$(".main-calc__item.real-estate").addClass("flat")):$("#house").is(":checked")&&($(".main-calc__item.real-estate").removeClass("flat"),$(".main-calc__item.real-estate").addClass("house"))}),z.on("change",function(){$("#car").is(":checked")?($(".main-calc__item.osago").removeClass("bike"),$(".main-calc__item.osago").addClass("car")):$("#bike").is(":checked")&&($(".main-calc__item.osago").removeClass("car"),$(".main-calc__item.osago").addClass("bike"))}),V.on("click",function(e){e.preventDefault(),$(this).toggleClass("opened"),$(this).siblings(".second-level").slideToggle()}),$(".burger-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("opened"),$("body").toggleClass("mobile-menu-opened")});let s=60,Y=setInterval(function(){0===s?($(".send-again span"),$(".send-again").removeClass("disabled"),clearInterval(Y)):(s--,$(".send-again span").text(`(${s} сек)`))},1e3),q=($(document).on("click",".hide-button",function(){$(this).hasClass("show")?($(this).siblings("input").attr("type","password"),$(this).removeClass("show")):($(this).siblings("input").attr("type","text"),$(this).addClass("show"))}),$(".header__bottom").height());$(".header").height();$(window).on("scroll",function(){991<$(window).width()?window.pageYOffset>q+80?($("body").addClass("fixed"),$(".header").css("padding-bottom",180)):($("body").removeClass("fixed"),$(".header").css("padding-bottom",0)):window.pageYOffset>q+80?($("body").addClass("fixed"),$(".header").css("padding-bottom",90)):($("body").removeClass("fixed"),$(".header").css("padding-bottom",0))}),$(".form__item-container input").on("focusin",function(){$(this).closest(".form__item-container").addClass("focused")}),$(".form__item-container input").on("focusout",function(){$(this).val()||$(this).closest(".form__item-container").removeClass("focused")});var c,r,d,X,I={frameRate:150,animationTime:500,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},p=I,R=!1,u=!1,f={x:0,y:0},m=!1,h=document.documentElement,w=[],K=/^Mac/.test(navigator.platform),v={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},j={37:1,38:1,39:1,40:1};function g(){var e,t,a,o,n,i;!m&&document.body&&(m=!0,e=document.body,t=document.documentElement,a=window.innerHeight,i=e.scrollHeight,h=0<=document.compatMode.indexOf("CSS")?t:e,c=e,p.keyboardSupport&&E("keydown",U),top!=self?u=!0:re&&a<i&&(e.offsetHeight<=a||t.offsetHeight<=a)&&((n=document.createElement("div")).style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+h.scrollHeight+"px",document.body.appendChild(n),d=function(){o=o||setTimeout(function(){R||(n.style.height="0",n.style.height=h.scrollHeight+"px",o=null)},500)},setTimeout(d,10),E("resize",d),(r=new ie(d)).observe(e,{attributes:!0,childList:!0,characterData:!1}),h.offsetHeight<=a)&&((i=document.createElement("div")).style.clear="both",e.appendChild(i)),p.fixedBackground||R||(e.style.backgroundAttachment="scroll",t.style.backgroundAttachment="scroll"))}var b=[],y=!1,_=Date.now();function F(c,d,u){var m,h,e,t;t=d,e=0<u?1:-1,f.x===(t=0<t?1:-1)&&f.y===e||(f.x=t,f.y=e,b=[],_=0),1!=p.accelerationMax&&((t=Date.now()-_)<p.accelerationDelta&&1<(e=(1+50/t)/2)&&(e=Math.min(e,p.accelerationMax),d*=e,u*=e),_=Date.now()),b.push({x:d,y:u,lastX:d<0?.99:-.99,lastY:u<0?.99:-.99,start:Date.now()}),y||(t=le(),m=c===t||c===document.body,null==c.$scrollBehavior&&(t=k(e=c),null==x[t]&&(e=getComputedStyle(e,"")["scroll-behavior"],x[t]="smooth"==e),x[t])&&(c.$scrollBehavior=c.style.scrollBehavior,c.style.scrollBehavior="auto"),ne(h=function(e){for(var t=Date.now(),a=0,o=0,n=0;n<b.length;n++){var i=b[n],l=t-i.start,s=l>=p.animationTime,l=s?1:l/p.animationTime,r=(p.pulseAlgorithm&&(l=1<=(r=l)?1:r<=0?0:(1==p.pulseNormalize&&(p.pulseNormalize/=se(1)),se(r))),i.x*l-i.lastX>>0),l=i.y*l-i.lastY>>0;a+=r,o+=l,i.lastX+=r,i.lastY+=l,s&&(b.splice(n,1),n--)}m?window.scrollBy(a,o):(a&&(c.scrollLeft+=a),o&&(c.scrollTop+=o)),(b=d||u?b:[]).length?ne(h,c,1e3/p.frameRate+1):(y=!1,null!=c.$scrollBehavior&&(c.style.scrollBehavior=c.$scrollBehavior,c.$scrollBehavior=null))},c,0),y=!0)}function C(e){m||g();var t,a,o=e.target;return!(!e.defaultPrevented&&!e.ctrlKey&&!(B(c,"embed")||B(o,"embed")&&/\.pdf/i.test(o.src)||B(c,"object")||o.shadowRoot))||(t=-e.wheelDeltaX||e.deltaX||0,a=-e.wheelDeltaY||e.deltaY||0,K&&(e.wheelDeltaX&&M(e.wheelDeltaX,120)&&(t=e.wheelDeltaX/Math.abs(e.wheelDeltaX)*-120),e.wheelDeltaY)&&M(e.wheelDeltaY,120)&&(a=e.wheelDeltaY/Math.abs(e.wheelDeltaY)*-120),t||(a=a||(-e.wheelDelta||0)),1===e.deltaMode&&(t*=40,a*=40),(o=ee(o))?!!function(e){var t;if(e)return w.length||(w=[e,e,e]),e=Math.abs(e),w.push(e),w.shift(),clearTimeout(X),X=setTimeout(function(){try{localStorage.SS_deltaBuffer=w.join(",")}catch(e){}},1e3),t=120<e&&L(e),t=!L(120)&&!L(100)&&!t,e<50||t}(a)||(1.2<Math.abs(t)&&(t*=p.stepSize/120),1.2<Math.abs(a)&&(a*=p.stepSize/120),F(o,t,a),e.preventDefault(),void Z()):!u||!A||(Object.defineProperty(e,"target",{value:window.frameElement}),parent.wheel(e)))}function U(a){var e=a.target,t=a.ctrlKey||a.altKey||a.metaKey||a.shiftKey&&a.keyCode!==v.spacebar,o=(document.body.contains(c)||(c=document.activeElement),/^(button|submit|radio|checkbox|file|color|image)$/i);if(a.defaultPrevented||/^(textarea|select|embed|object)$/i.test(e.nodeName)||B(e,"input")&&!o.test(e.type)||B(c,"video")||function(){var e=a.target,t=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(t=e.classList&&e.classList.contains("html5-video-controls"))break}while(e=e.parentNode);return t}()||e.isContentEditable||t)return!0;if((B(e,"button")||B(e,"input")&&o.test(e.type))&&a.keyCode===v.spacebar)return!0;if(B(e,"input")&&"radio"==e.type&&j[a.keyCode])return!0;var n=0,i=0,l=ee(c);if(!l)return!u||!A||parent.keydown(a);var s=l.clientHeight;switch(l==document.body&&(s=window.innerHeight),a.keyCode){case v.up:i=-p.arrowScroll;break;case v.down:i=p.arrowScroll;break;case v.spacebar:i=-(a.shiftKey?1:-1)*s*.9;break;case v.pageup:i=.9*-s;break;case v.pagedown:i=.9*s;break;case v.home:i=-(l=l==document.body&&document.scrollingElement?document.scrollingElement:l).scrollTop;break;case v.end:var r=l.scrollHeight-l.scrollTop-s,i=0<r?10+r:0;break;case v.left:n=-p.arrowScroll;break;case v.right:n=p.arrowScroll;break;default:return!0}F(l,n,i),a.preventDefault(),Z()}function W(e){c=e.target}G=0;var G,J,k=function(e){return e.uniqueID||(e.uniqueID=G++)},Q={},S={},x={};function Z(){clearTimeout(J),J=setInterval(function(){Q=S=x={}},1e3)}function D(e,t,a){for(var o=a?Q:S,n=e.length;n--;)o[k(e[n])]=t;return t}function ee(e){var t=[],a=document.body,o=h.scrollHeight;do{var n=S[k(e)];if(n)return D(t,n);if(t.push(e),o===e.scrollHeight){n=ae(h)&&ae(a)||oe(h);if(u&&te(h)||!u&&n)return D(t,le())}else if(te(e)&&oe(e))return D(t,e)}while(e=e.parentElement)}function te(e){return e.clientHeight+10<e.scrollHeight}function ae(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function oe(e){e=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===e||"auto"===e}function E(e,t,a){window.addEventListener(e,t,a||!1)}function T(e,t,a){window.removeEventListener(e,t,a||!1)}function B(e,t){return e&&(e.nodeName||"").toLowerCase()===t.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{w=localStorage.SS_deltaBuffer.split(",")}catch(C){}function M(e,t){return Math.floor(e/t)==e/t}function L(e){return M(w[0],e)&&M(w[1],e)&&M(w[2],e)}var O,ne=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,a){window.setTimeout(e,a||1e3/60)},ie=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,le=(O=document.scrollingElement,function(){var e,t;return O||((e=document.createElement("div")).style.cssText="height:10000px;width:1px;",document.body.appendChild(e),t=document.body.scrollTop,document.documentElement.scrollTop,window.scrollBy(0,3),O=document.body.scrollTop!=t?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)),O});function se(e){var t;return((e*=p.pulseScale)<1?e-(1-Math.exp(-e)):(--e,(t=Math.exp(-1))+(1-Math.exp(-e))*(1-t)))*p.pulseNormalize}var i=window.navigator.userAgent,o=/Edge/.test(i),A=/chrome/i.test(i)&&!o,o=/safari/i.test(i)&&!o,e=/mobile/i.test(i),n=/Windows NT 6.1/i.test(i)&&/rv:11/i.test(i),re=o&&(/Version\/8/i.test(i)||/Version\/9/i.test(i)),i=(A||o||n)&&!e,ce=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ce=!0}}))}catch(C){}var o=!!ce&&{passive:!1},H="onwheel"in document.createElement("div")?"wheel":"mousewheel";function P(e){for(var t in e)I.hasOwnProperty(t)&&(p[t]=e[t])}H&&i&&(E(H,C,o),E("mousedown",W),E("load",g)),P.destroy=function(){r&&r.disconnect(),T(H,C),T("mousedown",W),T("keydown",U),T("resize",d),T("load",g)},window.SmoothScrollOptions&&P(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return P}):"object"==typeof exports?module.exports=P:window.SmoothScroll=P});